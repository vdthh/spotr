{% extends 'base.html' %}

Plan daily search via google custom search for tracks in 'liked tracks'. Search track-by-track for playlists that contain the 2 tracks.
Store playlist and tracks in db.

{% block title %} 
    Automated search
{% endblock %}

{% block content %}
<div class="container">
    <!-- update db with saved tracks -->
    <a class="btn btn-primary" href="/autosearch/updateSavedTracksDB" role="button">Update saved tracks</a>
    <a class="btn btn-primary" href="/autosearch/startSearchJob" role="button">Start search job</a>

    <!-- Show list with all tracks in 'liked songs' -->
    <div class="row">
        <div class="col">
            <h6>Liked tracks: {{ likedTracksList|length }}</h6>
                {% if likedTracksList %}
                    <table class="table table-striped table-hover table-sm table-responsive">
                        <!-- Show track artist - title headers-->
                        <tr>
                            <th>Artist</th>
                            <th>Title</th>
                            <th>Times searched</th>
                            <th>Id</th>
                        </tr>
                        {% for item in likedTracksList %} <!-- 'LikedTracks' object from models.py} -->
                        <!-- Show list content -->
                            <tr>
                                <td>{{ item.artists }}</td>
                                <td>{{ item.title }}</td>
                                <td>{{ item.times_searched }}</td>
                                <td>{{ item.id }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                {% endif %}
        </div>      
    </div>
</div>

{% endblock %}